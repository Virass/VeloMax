# Технічна документація по проекту VeloMax

## Зміст


## Про стек технологій
- NextJs
- Zustand (global state management)
- React hook form
- Mantine UI (UI kit)
- FSD + MVC (development pattern)
- Supabase (database)
- Vercel (develop branch hosting)

**Next.js** - це метафреймворк для React. Обраний для спрощення розробки як готове рішення з багатьма вбудованими функціями.
Офіційна документація: [Next.js](https://nextjs.org/docs)

**Zustand** - бібліотека для вирішення задач роботи з глобальним станом в React чи в нашому випадку з клієнтською частиною Next.js.
Офіційна документація: [Zustand](https://zustand.docs.pmnd.rs/getting-started/introduction)

**React Hook Form** - бібліотека для роботи з формами в React. Бібліотека вже має зручний інструментарій для випадків великої кількості інпутів та валідації, обробка запитів та інше.
Офіційна документація: [React Hook Form](https://react-hook-form.com/get-started)

**Mantine UI** - готовий UI kit для React та Next.js. Дозволить швидко створювати інтерфейси користувача з використанням готових компонентів.
Офіційна документація: [Mantine UI](https://mantine.dev/)

**FSD (Feature-Sliced Design)** - це архітектурний патерн, який дозволяє розділити проект на окремі функціональні частини, що полегшує масштабування та підтримку коду. В даному проекті FSD взято лише як основу, основні принципи будуть описані нижче.

**MVC (Model-View-Controller)** - ще один патерн, який розділяє логіку в коді, дозволить в рамках окремо взятих функціональних частин використовувати правила для кращої організації коду. 

**Supabase** - своєрідна альтернатива повноцінному бекенду. Це інструментарій та база даних, яка має в собі рішення для роботи з даними, автентифікації, розділення на ролі, генерації API і т.д.

Офіційна документація: [Supabase](https://supabase.com/docs)

**Vercel** - для розгортання проекту для так званого stage будемо використовувати Vercel. Безкоштовного тарифу для розробки має бути достатньо для розгортання проекту та тестування.
Офіційний сайт: [Vercel](https://vercel.com/)


## Про патерни розробки FSD + MVC
**FSD (Feature-Sliced Design)** - це архітектурний патерн, який дозволяє розділити проект на окремі функціональні частини, що полегшує масштабування та підтримку коду. 
**MVC (Model-View-Controller)** - це патерн, який розділяє логіку додатку на три основні компоненти: модель (дані), представлення (UI) та контролер (логіка).


## Лінтинг та форматування коду

У проекті використовується ESLint для автоматичної перевірки якості коду та Prettier для його форматування. Це дозволяє підтримувати єдиний стиль написання коду, уникати помилок і підвищувати читабельність. Навіть якщо ви тільки починаєте працювати з JavaScript або TypeScript, ці інструменти допоможуть вам швидко звикнути до сучасних стандартів розробки та уникати типових помилок.

### ESLint
ESLint налаштований з урахуванням специфіки Next.js, TypeScript, React та сучасних практик розробки. Нижче наведено основні правила, які діють у проекті, з детальними поясненнями для кращого розуміння.

- **Загальні правила:**
    - **no-var / prefer-const** — Заборонено використовувати `var`, рекомендовано `const`. Змінні слід оголошувати через `const`, щоб уникати випадкової зміни їх значення. Це робить код більш передбачуваним і безпечним.
    - **eqeqeq** — Вимога суворого порівняння. Завжди використовуйте `===` та `!==` замість `==` та `!=`, щоб уникнути неочікуваних результатів при порівнянні різних типів даних. Це допомагає уникати помилок, які важко знайти.
    - **no-duplicate-imports** — Заборонено дублювання імпортів. В одному файлі не можна імпортувати один і той самий модуль кілька разів. Це зменшує плутанину та покращує читабельність коду.
    - **no-shadow** — Заборонено тіньування змінних. Не можна оголошувати змінну з таким самим ім'ям, як у зовнішньому блоці. Це допомагає уникати помилок, коли ви випадково перекриваєте значення змінної.
    - **curly** — Всі блоки повинні бути обгорнуті фігурними дужками. Навіть якщо блок містить лише один рядок, використовуйте фігурні дужки. Це робить код більш зрозумілим і зменшує ризик помилок при додаванні нових рядків.
    - **arrow-body-style** — Стрілочні функції без зайвих фігурних дужок. Якщо функція повертає значення одразу, не потрібно писати фігурні дужки та ключове слово `return`. Це робить код коротшим і легшим для читання.
    - **no-console** — Консоль дозволена лише для `warn` та `error`. Використовуйте `console.warn` та `console.error` для повідомлень про помилки або попередження, але уникайте зайвих `console.log` у робочому коді. Це допомагає підтримувати чистоту журналу та не засмічувати його зайвою інформацією.

- **TypeScript:**
    - **@typescript-eslint/no-explicit-any** — Попередження при використанні `any`. Тип `any` слід уникати, оскільки він відключає перевірку типів і може призвести до помилок у майбутньому. Якщо не знаєте точний тип, краще спробувати його визначити або використати більш конкретний тип.
    - **@typescript-eslint/no-unused-vars** — Попередження про невикористані змінні (ігноруються, якщо починаються з `_`). Якщо ви оголосили змінну, але не використовуєте її, з'явиться попередження. Це допомагає тримати код чистим, а змінні, які починаються з `_`, ігноруються, що зручно для тимчасових або службових змінних.
    - **@typescript-eslint/no-non-null-assertion** — Заборонено неявні non-null assertions (`!`). Не використовуйте оператор `!` для примусового ігнорування можливості null або undefined. Це може призвести до помилок під час виконання, якщо значення все ж таки буде null.
    - **@typescript-eslint/consistent-type-imports** — Всі імпорти типів мають бути через `import type`. Для імпорту типів використовуйте спеціальний синтаксис `import type`, щоб відокремити типи від звичайних імпортів. Це покращує читабельність і допомагає інструментам оптимізувати код.

- **React:**
    - **react/prop-types** — Вимкнено перевірку PropTypes (оскільки використовується TypeScript). Оскільки TypeScript вже забезпечує перевірку типів, додатково використовувати PropTypes не потрібно. Це спрощує код і зменшує дублювання логіки.
    - **react/jsx-no-duplicate-props** — Заборонено дублювання props у JSX. Не можна передавати один і той самий prop кілька разів одному компоненту. Це допомагає уникати неочікуваної поведінки компонентів.
    - **react/no-unescaped-entities** — Вимкнено попередження про неекрановані символи у JSX. Деякі символи, наприклад апострофи чи лапки, можна використовувати у JSX без додаткового екранування. Це робить написання тексту у компонентах простішим.
    - **react/self-closing-comp** — Вимога самозакриття компонентів без дітей. Якщо компонент не містить дочірніх елементів, його слід записувати у вигляді самозакритого тегу. Це покращує читабельність і структуру коду.
    - **react-hooks/rules-of-hooks** — Дотримання правил хуків React. Використовуйте хуки лише у функціональних компонентах та дотримуйтесь їх порядку. Це важливо для коректної роботи стану та ефектів у React.

- **Імпорти:**
    - **import/order** — Впорядкування імпортів за групами (вбудовані, зовнішні, внутрішні, відносні). Імпорти мають бути організовані у певному порядку, щоб код був структурованим і легким для навігації. Це особливо корисно у великих файлах з багатьма залежностями.
    - **import/order (react first)** — Імпорт `react` завжди перший серед зовнішніх. Це правило допомагає швидко знаходити основну бібліотеку у списку імпортів. Також це відповідає загальноприйнятим стандартам у спільноті React.
    - **import/no-unresolved, import/no-duplicates** — Заборонено невирішені та дубльовані імпорти. Всі імпорти мають бути коректними, а дублювання — відсутнє. Це зменшує кількість помилок при запуску та полегшує підтримку коду.

- **Доступність:**
    - **jsx-a11y/alt-text** — Попередження, якщо не вказано alt-текст для зображень. Для всіх зображень необхідно вказувати опис через атрибут `alt`. Це важливо для користувачів з обмеженими можливостями та для SEO.

- **Next.js:**
    - **@next/next/no-img-element** — Заборонено використання `<img>` замість `next/image`. Для зображень у Next.js слід використовувати компонент `next/image`, який оптимізує завантаження та розмір картинок. Це підвищує продуктивність сайту та покращує досвід користувача.
    - **@next/next/no-sync-scripts, @next/next/no-html-link-for-pages** — Заборонено використання синхронних скриптів та невалідних посилань. Не використовуйте синхронні скрипти, оскільки вони можуть блокувати рендеринг сторінки. Також переконайтеся, що всі посилання ведуть на існуючі сторінки.

- **Форматування:**
    - **semi** — Вимога крапки з комою наприкінці кожного виразу. Кожен рядок коду має закінчуватися крапкою з комою, щоб уникати неочікуваних помилок при виконанні. Це правило допомагає підтримувати однаковий стиль у всіх файлах проекту.

### Prettier
Prettier відповідає за автоматичне форматування коду. Він автоматично виправляє відступи, лапки, розставляє крапки з комою та інші дрібниці, щоб код виглядав однаково у всіх учасників команди. Це особливо корисно для новачків, оскільки дозволяє не перейматися дрібними деталями оформлення коду.

- **semi** — Крапка з комою наприкінці рядків (`semi: true`). Кожен рядок завершується крапкою з комою, що допомагає уникати помилок при виконанні коду. Це правило також робить стиль коду однаковим у всіх учасників команди.
- **singleQuote** — Одинарні лапки для рядків (`singleQuote: true`). Для рядків використовуються одинарні лапки замість подвійних. Це спрощує читання коду та зменшує кількість непотрібних змін при автозаміні.
- **tabWidth** — Відступ у 4 пробіли (`tabWidth: 4`). Весь код має однаковий відступ у 4 пробіли, що робить структуру коду зрозумілою навіть для новачків. Це допомагає уникати плутанини з різними відступами у різних файлах.
- **trailingComma** — Кожен елемент у багаторядкових структурах має мати кому (`trailingComma: es5`). У багаторядкових масивах та об'єктах після останнього елемента ставиться кома. Це спрощує додавання нових елементів і зменшує кількість помилок у git diff.
- **printWidth** — Максимальна довжина рядка — 80 символів (`printWidth: 80`). Рядки коду не повинні перевищувати 80 символів, щоб їх було зручно читати навіть на невеликих екранах. Це також допомагає уникати горизонтального скролу у редакторі.
- **bracketSpacing** — Пробіли всередині дужок (`bracketSpacing: true`). Між дужками та вмістом завжди є пробіли, що робить код більш "дружнім" для читання. Це дрібниця, але вона покращує загальний вигляд коду.
- **arrowParens** — Завжди використовуються дужки для аргументів стрілочних функцій (`arrowParens: always`). Навіть якщо у стрілочної функції один аргумент, все одно використовуються дужки. Це робить код більш передбачуваним і полегшує автоматичне форматування.
- **endOfLine** — Вирівнювання рядків за допомогою символу переносу рядка LF (`endOfLine: lf`). Для переносу рядків використовується символ LF, що є стандартом для більшості сучасних систем. Це допомагає уникати проблем з відображенням коду на різних операційних системах.

> **Рекомендація:** Використовуйте автоматичне форматування при збереженні файлів у редакторі для дотримання єдиного стилю коду.
> **Рекомендація:** Використовуйте автоматичне форматування при збереженні файлів у редакторі для дотримання єдиного стилю коду. Це значно спрощує командну роботу та дозволяє зосередитися на логіці, а не на оформленні.